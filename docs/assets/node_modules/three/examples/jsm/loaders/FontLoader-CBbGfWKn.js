import{ShapePath as T}from"../../../build/three.core-BhFki44V.js";class P{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){const r=[],c=k(t,e,this.data);for(let i=0,h=c.length;i<h;i++)r.push(...c[i].toShapes());return r}}function k(y,t,e){const r=Array.from(y),c=t/e.resolution,i=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*c,h=[];let p=0,u=0;for(let s=0;s<r.length;s++){const a=r[s];if(a===`
`)p=0,u-=i;else{const l=F(a,c,p,u,e);p+=l.offsetX,h.push(l.path)}}return h}function F(y,t,e,r,c){const i=c.glyphs[y]||c.glyphs["?"];if(!i){console.error('THREE.Font: character "'+y+'" does not exists in font family '+c.familyName+".");return}const h=new T;let p,u,s,a,l,g,x,b;if(i.o){const n=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let o=0,m=n.length;o<m;)switch(n[o++]){case"m":p=n[o++]*t+e,u=n[o++]*t+r,h.moveTo(p,u);break;case"l":p=n[o++]*t+e,u=n[o++]*t+r,h.lineTo(p,u);break;case"q":s=n[o++]*t+e,a=n[o++]*t+r,l=n[o++]*t+e,g=n[o++]*t+r,h.quadraticCurveTo(l,g,s,a);break;case"b":s=n[o++]*t+e,a=n[o++]*t+r,l=n[o++]*t+e,g=n[o++]*t+r,x=n[o++]*t+e,b=n[o++]*t+r,h.bezierCurveTo(l,g,x,b,s,a);break}}return{offsetX:i.ha*t,path:h}}export{P as Font};
