import{cartesianCross as S,cartesian as T,cartesianNormalizeInPlace as U}from"./cartesian-0PBFRGIL.js";import{quarterPi as V,atan2 as $,sin as u,cos as g,asin as k,epsilon as y,halfPi as W,pi as w,tau as Y,abs as X,sign as h}from"./math-yk45OU_y.js";import{Adder as j}from"../../d3-array/src/fsum-Cuuw102x.js";function A(r){return X(r[0])<=w?r[0]:h(r[0])*((X(r[0])+w)%Y-w)}function d(r,B){var v=A(B),e=B[1],E=u(e),Z=[u(v),-g(v),0],C=0,F=0,G=new j;E===1?e=W+y:E===-1&&(e=-W-y);for(var c=0,_=r.length;c<_;++c)if(m=(l=r[c]).length)for(var l,m,s=l[m-1],q=A(s),H=s[1]/2+V,J=u(H),K=g(H),x=0;x<m;++x,q=z,J=M,K=O,s=a){var a=l[x],z=A(a),L=a[1]/2+V,M=u(L),O=g(L),f=z-q,I=f>=0?1:-1,N=I*f,o=N>w,P=J*M;if(G.add($(P*I*u(N),K*O+P*g(N))),C+=o?f+I*Y:f,o^q>=v^z>=v){var n=S(T(s),T(a));U(n);var Q=S(Z,n);U(Q);var R=(o^f>=0?-1:1)*k(Q[2]);(e>R||e===R&&(n[0]||n[1]))&&(F+=o^f>=0?1:-1)}}return(C<-1e-6||C<y&&G<-1e-12)^F&1}export{d as default};
