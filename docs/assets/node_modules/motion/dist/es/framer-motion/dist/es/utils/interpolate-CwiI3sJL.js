import{invariant as x}from"../../../../motion-utils/dist/es/errors-bDdEM2yR.js";import{noop as h}from"../../../../motion-utils/dist/es/noop-B8b6aalU.js";import{progress as y}from"../../../../motion-utils/dist/es/progress-DdCORKJ-.js";import{clamp as M}from"./clamp-CAH81aju.js";import{mix as A}from"./mix/index-Dtm-V5zR.js";import{pipe as F}from"./pipe-BH889Yl6.js";function R(r,e,f){const c=[],l=f||A,n=r.length-1;for(let o=0;o<n;o++){let i=l(r[o],r[o+1]);if(e){const a=Array.isArray(e)?e[o]||h:e;i=F(a,i)}c.push(i)}return c}function Z(r,e,{clamp:f=!0,ease:c,mixer:l}={}){const n=r.length;if(x(n===e.length),n===1)return()=>e[0];if(n===2&&e[0]===e[1])return()=>e[1];const o=r[0]===r[1];r[0]>r[n-1]&&(r=[...r].reverse(),e=[...e].reverse());const i=R(e,c,l),a=i.length,t=m=>{if(o&&m<r[0])return e[0];let s=0;if(a>1)for(;s<r.length-2&&!(m<r[s+1]);s++);const g=y(r[s],r[s+1],m);return i[s](g)};return f?m=>t(M(r[0],r[n-1],m)):t}export{Z as interpolate};
