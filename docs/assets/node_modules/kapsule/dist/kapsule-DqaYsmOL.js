import W from"../../lodash-es/debounce-BeelNtdk.js";function F(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function q(n){if(Array.isArray(n))return n}function z(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function B(n,t,e){return Object.defineProperty(n,"prototype",{writable:!1}),n}function D(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,p,c,d,u=[],h=!0,m=!1;try{if(c=(e=e.call(n)).next,t!==0)for(;!(h=(i=c.call(e)).done)&&(u.push(i.value),u.length!==t);h=!0);}catch(v){m=!0,p=v}finally{try{if(!h&&e.return!=null&&(d=e.return(),Object(d)!==d))return}finally{if(m)throw p}}return u}}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(n,t){return q(n)||D(n,t)||Q(n,t)||G()}function Q(n,t){if(n){if(typeof n=="string")return F(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?F(n,t):void 0}}var X=B(function n(t,e){var i=e.default,p=i===void 0?null:i,c=e.triggerUpdate,d=c===void 0?!0:c,u=e.onChange,h=u===void 0?function(m,v){}:u;z(this,n),this.name=t,this.defaultVal=p,this.triggerUpdate=d,this.onChange=h});function Z(n){var t=n.stateInit,e=t===void 0?function(){return{}}:t,i=n.props,p=i===void 0?{}:i,c=n.methods,d=c===void 0?{}:c,u=n.aliases,h=u===void 0?{}:u,m=n.init,v=m===void 0?function(){}:m,V=n.update,L=V===void 0?function(){}:V,j=Object.keys(p).map(function(y){return new X(y,p[y])});return function y(){for(var I=arguments.length,C=new Array(I),b=0;b<I;b++)C[b]=arguments[b];var O=!!(this instanceof y&&this.constructor),S=O?C.shift():void 0,E=C[0],U=E===void 0?{}:E,l=Object.assign({},e instanceof Function?e(U):e,{initialised:!1}),$={};function r(a){return M(a,U),A(),r}var M=function(f,o){v.call(r,f,l,o),l.initialised=!0},A=W(function(){l.initialised&&(L.call(r,l,$),$={})},1);return j.forEach(function(a){r[a.name]=f(a);function f(o){var s=o.name,g=o.triggerUpdate,H=g===void 0?!1:g,T=o.onChange,K=T===void 0?function(P,w){}:T,_=o.defaultVal,R=_===void 0?null:_;return function(P){var w=l[s];if(!arguments.length)return w;var x=P===void 0?R:P;return l[s]=x,K.call(r,x,l,w),!$.hasOwnProperty(s)&&($[s]=w),H&&A(),r}}}),Object.keys(d).forEach(function(a){r[a]=function(){for(var f,o=arguments.length,s=new Array(o),g=0;g<o;g++)s[g]=arguments[g];return(f=d[a]).call.apply(f,[r,l].concat(s))}}),Object.entries(h).forEach(function(a){var f=J(a,2),o=f[0],s=f[1];return r[o]=r[s]}),r.resetProps=function(){return j.forEach(function(a){r[a.name](a.defaultVal)}),r},r.resetProps(),l._rerender=A,O&&S&&r(S),r}}export{Z as default};
