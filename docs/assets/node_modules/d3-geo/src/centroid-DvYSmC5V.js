import{epsilon2 as A,hypot as Z,atan2 as D,degrees as j,asin as G,epsilon as K,sin as u,cos as P,sqrt as M,radians as a}from"./math-yk45OU_y.js";import O from"./noop-CF1vELvJ.js";import Q from"./stream-bBKWqq4p.js";import{Adder as Y}from"../../d3-array/src/fsum-Cuuw102x.js";var v,S,x,E,w,z,L,N,m,C,F,H,I,i,r,e,s={sphere:O,point:W,lineStart:k,lineEnd:B,polygonStart:function(){s.lineStart=V,s.lineEnd=_},polygonEnd:function(){s.lineStart=k,s.lineEnd=B}};function W(t,n){t*=a,n*=a;var o=P(n);y(o*P(t),o*u(t),u(n))}function y(t,n,o){++v,x+=(t-x)/v,E+=(n-E)/v,w+=(o-w)/v}function k(){s.point=T}function T(t,n){t*=a,n*=a;var o=P(n);i=o*P(t),r=o*u(t),e=u(n),s.point=U,y(i,r,e)}function U(t,n){t*=a,n*=a;var o=P(n),c=o*P(t),f=o*u(t),g=u(n),d=D(M((d=r*g-e*f)*d+(d=e*c-i*g)*d+(d=i*f-r*c)*d),i*c+r*f+e*g);S+=d,z+=d*(i+(i=c)),L+=d*(r+(r=f)),N+=d*(e+(e=g)),y(i,r,e)}function B(){s.point=W}function V(){s.point=$}function _(){J(H,I),s.point=W}function $(t,n){H=t,I=n,t*=a,n*=a,s.point=J;var o=P(n);i=o*P(t),r=o*u(t),e=u(n),y(i,r,e)}function J(t,n){t*=a,n*=a;var o=P(n),c=o*P(t),f=o*u(t),g=u(n),d=r*g-e*f,l=e*c-i*g,q=i*f-r*c,R=Z(d,l,q),p=G(R),X=R&&-p/R;m.add(X*d),C.add(X*l),F.add(X*q),S+=p,z+=p*(i+(i=c)),L+=p*(r+(r=f)),N+=p*(e+(e=g)),y(i,r,e)}function on(t){v=S=x=E=w=z=L=N=0,m=new Y,C=new Y,F=new Y,Q(t,s);var n=+m,o=+C,c=+F,f=Z(n,o,c);return f<A&&(n=z,o=L,c=N,S<K&&(n=x,o=E,c=w),f=Z(n,o,c),f<A)?[NaN,NaN]:[D(o,n)*j,G(c/f)*j]}export{on as default};
