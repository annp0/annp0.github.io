import{epsilon as k,vec as J,estimate as S,resulterrbound as T,splitter as f,sum as K}from"./util-n31Yb5wX.js";const U=(3+16*k)*k,V=(2+12*k)*k,W=(9+64*k)*k*k,G=J(4),L=J(8),N=J(12),O=J(16),h=J(4);function X(q,z,E,F,j,A,H){let p,C,m,M,t,n,e,s,r,c,o,i,u,l,a,d,w,b;const _=q-j,v=E-j,B=z-A,D=F-A;l=_*D,n=f*_,e=n-(n-_),s=_-e,n=f*D,r=n-(n-D),c=D-r,a=s*c-(l-e*r-s*r-e*c),d=B*v,n=f*B,e=n-(n-B),s=B-e,n=f*v,r=n-(n-v),c=v-r,w=s*c-(d-e*r-s*r-e*c),o=a-w,t=a-o,G[0]=a-(o+t)+(t-w),i=l+o,t=i-l,u=l-(i-t)+(o-t),o=u-d,t=u-o,G[1]=u-(o+t)+(t-d),b=i+o,t=b-i,G[2]=i-(b-t)+(o-t),G[3]=b;let g=S(4,G),I=V*H;if(g>=I||-g>=I||(t=q-_,p=q-(_+t)+(t-j),t=E-v,m=E-(v+t)+(t-j),t=z-B,C=z-(B+t)+(t-A),t=F-D,M=F-(D+t)+(t-A),p===0&&C===0&&m===0&&M===0)||(I=W*H+T*Math.abs(g),g+=_*M+D*p-(B*m+v*C),g>=I||-g>=I))return g;l=p*D,n=f*p,e=n-(n-p),s=p-e,n=f*D,r=n-(n-D),c=D-r,a=s*c-(l-e*r-s*r-e*c),d=C*v,n=f*C,e=n-(n-C),s=C-e,n=f*v,r=n-(n-v),c=v-r,w=s*c-(d-e*r-s*r-e*c),o=a-w,t=a-o,h[0]=a-(o+t)+(t-w),i=l+o,t=i-l,u=l-(i-t)+(o-t),o=u-d,t=u-o,h[1]=u-(o+t)+(t-d),b=i+o,t=b-i,h[2]=i-(b-t)+(o-t),h[3]=b;const P=K(4,G,4,h,L);l=_*M,n=f*_,e=n-(n-_),s=_-e,n=f*M,r=n-(n-M),c=M-r,a=s*c-(l-e*r-s*r-e*c),d=B*m,n=f*B,e=n-(n-B),s=B-e,n=f*m,r=n-(n-m),c=m-r,w=s*c-(d-e*r-s*r-e*c),o=a-w,t=a-o,h[0]=a-(o+t)+(t-w),i=l+o,t=i-l,u=l-(i-t)+(o-t),o=u-d,t=u-o,h[1]=u-(o+t)+(t-d),b=i+o,t=b-i,h[2]=i-(b-t)+(o-t),h[3]=b;const Q=K(P,L,4,h,N);l=p*M,n=f*p,e=n-(n-p),s=p-e,n=f*M,r=n-(n-M),c=M-r,a=s*c-(l-e*r-s*r-e*c),d=C*m,n=f*C,e=n-(n-C),s=C-e,n=f*m,r=n-(n-m),c=m-r,w=s*c-(d-e*r-s*r-e*c),o=a-w,t=a-o,h[0]=a-(o+t)+(t-w),i=l+o,t=i-l,u=l-(i-t)+(o-t),o=u-d,t=u-o,h[1]=u-(o+t)+(t-d),b=i+o,t=b-i,h[2]=i-(b-t)+(o-t),h[3]=b;const R=K(Q,N,4,h,O);return O[R-1]}function Z(q,z,E,F,j,A){const H=(z-A)*(E-j),p=(q-j)*(F-A),C=H-p,m=Math.abs(H+p);return Math.abs(C)>=U*m?C:-X(q,z,E,F,j,A,m)}export{Z as orient2d};
